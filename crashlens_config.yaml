pricing:
  # Email Categorizer API endpoints (no actual costs, but for tracking)
  api-emails:
    input_rate_per_1m: 0.0
    output_rate_per_1m: 0.0
  
  api-classify:
    input_rate_per_1m: 0.0
    output_rate_per_1m: 0.0
  
  # AI Models (actual costs)
  gemini-2.0-flash:
    input_rate_per_1m: 0.075  # $0.075 per 1M input tokens
    output_rate_per_1m: 0.30   # $0.30 per 1M output tokens
  
  gemini-ai-summarizer:
    input_rate_per_1m: 0.075
    output_rate_per_1m: 0.30
  
  email-classifier:
    input_rate_per_1m: 0.075
    output_rate_per_1m: 0.30

# Logging Configuration
logging:
  log_file: "logs/api_calls.jsonl"
  dev_mode: false
  include_request_body: true
  include_response_body: false
  max_body_size: 1000  # characters
<<<<<<< HEAD
=======

# Retry Loop Detection Policy
retry_detection:
  enabled: true
  policy_file: "crashlens_retry_policy.yaml"
  
  # Retry pattern monitoring
  max_retries_per_request: 3
  retry_cost_threshold: 0.05
  rapid_retry_window_seconds: 10
  
  # Budget monitoring
  daily_retry_budget: 5.00
  monthly_retry_budget: 100.00
  max_retry_cost_per_trace: 0.20
  
  # Model fallback configuration
  fallback_models:
    "gpt-4": "gpt-3.5-turbo"
    "gpt-4-turbo": "gpt-3.5-turbo"
    "claude-3-opus": "claude-3-haiku"
    "gemini-2.0-flash": "gemini-1.5-flash"
  
  # Alert thresholds
  alerts:
    excessive_retries: 3
    high_cost_per_retry: 0.05
    rapid_retry_count: 2
>>>>>>> 94bb2a09def6d5cf440c6b59f6eebedb12e9c613
